{% extends 'base.html' %} {% block body %} {{super()}}
<div>
    <h1>{{context.app_title}}</h1>
    <h4>{{context.subtitle}}</h4>
</div>
<hr>
<div id="results">
    <h2>Results</h2> {# The result set query will require a join between 3 of the tables #}
    <p>Current OS Version: {{context.current_version}}</p>
    <table border="1px">
        <tr>
            <td colspan="5">TEST RESULTS</td>
        </tr>
        <tr>
            <td>#</td>
            <td>NAME</td>
            <td>LAST RESULT</td>
            <td>VERSION OF LAST SUCCESS</td>
            <td>DATE OF LAST SUCCESS</td>
        </tr>
        {% for results in context.test_results %}
        <tr>
            <td>{{results.id}}</td>
            <td>{{results.name}}</td>
            <td>{{'PASS' if results.result else 'FAIL'}}</td> {# This code will probably be more complex #}
            <td>{{results.last_successful_version}}</td>
            <td>{{results.last_successful_date}}</td>
        </tr>
        {% endfor %}
    </table>
    <button>EXECUTE ALL</button>
</div>
<hr>
<hr>
<div id="register_div">
    <h2>Register Test Executable</h2>
    <form class="register_form" method="POST" action="{{url_for('index')}}">
        {{context.form.hidden_tag()}} {{render_field(context.form.path)}}
        <!--  -->
        {{render_field(context.form.name)}}
        <!--  -->
        {{render_field(context.form.author)}}
        <!--  -->
        {{render_field(context.form.command)}}
        <input type="submit" value="Register">
    </form>
</div>
<hr>
<div id="registered_tests">
    <h2>Registered Tests</h2>
    <table border="1px">
        <tr>
            <td>#</td>
            <td>NAME</td>
            <td>AUTHOR</td>
            <td>COMMAND</td>
            <td>FILEPATH</td>
            <td></td>
            <td></td>
        </tr>
        {% for registrant in context.registrants %}
        <tr>
            <td>{{registrant.id}}</td>
            <td>{{registrant.name}}</td>
            <td>{{registrant.author}}</td>
            <td>{{registrant.command}}</td>
            <td>{{registrant.path}}</td>
            <td>{# edit button #}
                <button>Edit</button>
            </td>
            <td>{# delete button #}
                <button>Delete</button>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}